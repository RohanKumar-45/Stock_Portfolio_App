{"ast":null,"code":"import _objectSpread from\"D:/Rohan/Sem 7/FST/Stock_Portfolio_App/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate,useParams}from'react-router-dom';import{createStock,updateStockById,fetchStockById}from'../redux/actions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StockForm(){const{id}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const{currentStock,loading}=useSelector(state=>state.stocks);const[formData,setFormData]=useState({symbol:'',companyName:'',quantity:'',buyPrice:'',currentPrice:''});const[message,setMessage]=useState('');useEffect(()=>{if(id){dispatch(fetchStockById(id));}},[id,dispatch]);useEffect(()=>{if(id&&currentStock){setFormData({symbol:currentStock.symbol,companyName:currentStock.companyName,quantity:currentStock.quantity,buyPrice:currentStock.buyPrice,currentPrice:currentStock.currentPrice});}},[currentStock,id]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();try{if(id){await dispatch(updateStockById(id,formData));setMessage('Stock updated successfully!');}else{await dispatch(createStock(formData));setMessage('Stock added successfully!');setFormData({symbol:'',companyName:'',quantity:'',buyPrice:'',currentPrice:''});}setTimeout(()=>{navigate('/');},1500);}catch(error){setMessage('Error saving stock. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:id?'Edit Stock':'Add New Stock'}),message&&/*#__PURE__*/_jsx(\"div\",{className:message.includes('Error')?'error':'success',children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stock Symbol\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"symbol\",value:formData.symbol,onChange:handleChange,required:true,placeholder:\"e.g., AAPL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"companyName\",value:formData.companyName,onChange:handleChange,required:true,placeholder:\"e.g., Apple Inc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",value:formData.quantity,onChange:handleChange,required:true,min:\"0\",placeholder:\"e.g., 10\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Buy Price ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"buyPrice\",value:formData.buyPrice,onChange:handleChange,required:true,min:\"0\",step:\"0.01\",placeholder:\"e.g., 150.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Current Price ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"currentPrice\",value:formData.currentPrice,onChange:handleChange,required:true,min:\"0\",step:\"0.01\",placeholder:\"e.g., 155.00\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Saving...':id?'Update Stock':'Add Stock'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>navigate('/'),children:\"Cancel\"})]})]});}export default StockForm;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useNavigate","useParams","createStock","updateStockById","fetchStockById","jsx","_jsx","jsxs","_jsxs","StockForm","id","navigate","dispatch","currentStock","loading","state","stocks","formData","setFormData","symbol","companyName","quantity","buyPrice","currentPrice","message","setMessage","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","setTimeout","error","className","children","includes","onSubmit","type","onChange","required","placeholder","min","step","disabled","onClick"],"sources":["D:/Rohan/Sem 7/FST/Stock_Portfolio_App/frontend/src/components/StockForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { createStock, updateStockById, fetchStockById } from '../redux/actions';\r\n\r\nfunction StockForm() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { currentStock, loading } = useSelector((state) => state.stocks);\r\n\r\n  const [formData, setFormData] = useState({\r\n    symbol: '',\r\n    companyName: '',\r\n    quantity: '',\r\n    buyPrice: '',\r\n    currentPrice: ''\r\n  });\r\n\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchStockById(id));\r\n    }\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (id && currentStock) {\r\n      setFormData({\r\n        symbol: currentStock.symbol,\r\n        companyName: currentStock.companyName,\r\n        quantity: currentStock.quantity,\r\n        buyPrice: currentStock.buyPrice,\r\n        currentPrice: currentStock.currentPrice\r\n      });\r\n    }\r\n  }, [currentStock, id]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (id) {\r\n        await dispatch(updateStockById(id, formData));\r\n        setMessage('Stock updated successfully!');\r\n      } else {\r\n        await dispatch(createStock(formData));\r\n        setMessage('Stock added successfully!');\r\n        setFormData({\r\n          symbol: '',\r\n          companyName: '',\r\n          quantity: '',\r\n          buyPrice: '',\r\n          currentPrice: ''\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        navigate('/');\r\n      }, 1500);\r\n    } catch (error) {\r\n      setMessage('Error saving stock. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h2>{id ? 'Edit Stock' : 'Add New Stock'}</h2>\r\n      {message && (\r\n        <div className={message.includes('Error') ? 'error' : 'success'}>\r\n          {message}\r\n        </div>\r\n      )}\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Stock Symbol</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"symbol\"\r\n            value={formData.symbol}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"e.g., AAPL\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Company Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"companyName\"\r\n            value={formData.companyName}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"e.g., Apple Inc.\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Quantity</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"quantity\"\r\n            value={formData.quantity}\r\n            onChange={handleChange}\r\n            required\r\n            min=\"0\"\r\n            placeholder=\"e.g., 10\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Buy Price ($)</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"buyPrice\"\r\n            value={formData.buyPrice}\r\n            onChange={handleChange}\r\n            required\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n            placeholder=\"e.g., 150.00\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Current Price ($)</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"currentPrice\"\r\n            value={formData.currentPrice}\r\n            onChange={handleChange}\r\n            required\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n            placeholder=\"e.g., 155.00\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n          {loading ? 'Saving...' : id ? 'Update Stock' : 'Add Stock'}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary\"\r\n          onClick={() => navigate('/')}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StockForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}