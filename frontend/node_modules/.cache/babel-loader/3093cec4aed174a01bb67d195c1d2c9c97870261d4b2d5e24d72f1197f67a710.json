{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{fetchStocks}from'../redux/actions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function StockList(){const dispatch=useDispatch();const{stocks,loading,error}=useSelector(state=>state.stocks);useEffect(()=>{dispatch(fetchStocks());},[dispatch]);const calculateProfitLoss=stock=>{const profitLoss=(stock.currentPrice-stock.buyPrice)*stock.quantity;return profitLoss.toFixed(2);};const calculateProfitLossPercent=stock=>{const percent=(stock.currentPrice-stock.buyPrice)/stock.buyPrice*100;return percent.toFixed(2);};const calculatePortfolioStats=()=>{const totalInvestment=stocks.reduce((sum,stock)=>sum+stock.buyPrice*stock.quantity,0);const currentValue=stocks.reduce((sum,stock)=>sum+stock.currentPrice*stock.quantity,0);const totalProfitLoss=currentValue-totalInvestment;const profitLossPercent=totalInvestment>0?totalProfitLoss/totalInvestment*100:0;return{totalInvestment:totalInvestment.toFixed(2),currentValue:currentValue.toFixed(2),totalProfitLoss:totalProfitLoss.toFixed(2),profitLossPercent:profitLossPercent.toFixed(2),totalStocks:stocks.length};};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading stocks...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}const stats=calculatePortfolioStats();return/*#__PURE__*/_jsxs(\"div\",{className:\"stock-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Portfolio\"}),stocks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No stocks in your portfolio yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start building your portfolio by adding your first stock\"}),/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"add-first-stock\",children:\"Add Your First Stock\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"portfolio-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Stocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalStocks})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Investment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[\"$\",stats.totalInvestment]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Current Value\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[\"$\",stats.currentValue]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total P/L\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[\"$\",stats.totalProfitLoss,\" (\",stats.profitLossPercent,\"%)\"]})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"stock-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Buy Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Current Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"P/L Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"P/L %\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:stocks.map(stock=>{const pl=calculateProfitLoss(stock);const plPercent=calculateProfitLossPercent(stock);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"stock-symbol\",children:stock.symbol})}),/*#__PURE__*/_jsx(\"td\",{children:stock.companyName}),/*#__PURE__*/_jsx(\"td\",{children:stock.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",stock.buyPrice]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",stock.currentPrice]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"profit-badge \".concat(pl>=0?'positive':'negative'),children:[\"$\",pl]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"profit-badge \".concat(plPercent>=0?'positive':'negative'),children:[plPercent,\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/stock/\".concat(stock._id),children:\"View Details\"})})]},stock._id);})})]})]})]});}export default StockList;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","fetchStocks","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StockList","dispatch","stocks","loading","error","state","calculateProfitLoss","stock","profitLoss","currentPrice","buyPrice","quantity","toFixed","calculateProfitLossPercent","percent","calculatePortfolioStats","totalInvestment","reduce","sum","currentValue","totalProfitLoss","profitLossPercent","totalStocks","length","className","children","stats","to","map","pl","plPercent","symbol","companyName","concat","_id"],"sources":["D:/Rohan/Sem 7/FST/Stock_Portfolio_App/frontend/src/components/StockList.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchStocks } from '../redux/actions';\r\n\r\nfunction StockList() {\r\n  const dispatch = useDispatch();\r\n  const { stocks, loading, error } = useSelector((state) => state.stocks);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchStocks());\r\n  }, [dispatch]);\r\n\r\n  const calculateProfitLoss = (stock) => {\r\n    const profitLoss = (stock.currentPrice - stock.buyPrice) * stock.quantity;\r\n    return profitLoss.toFixed(2);\r\n  };\r\n\r\n  const calculateProfitLossPercent = (stock) => {\r\n    const percent = ((stock.currentPrice - stock.buyPrice) / stock.buyPrice) * 100;\r\n    return percent.toFixed(2);\r\n  };\r\n\r\n  const calculatePortfolioStats = () => {\r\n    const totalInvestment = stocks.reduce((sum, stock) => sum + (stock.buyPrice * stock.quantity), 0);\r\n    const currentValue = stocks.reduce((sum, stock) => sum + (stock.currentPrice * stock.quantity), 0);\r\n    const totalProfitLoss = currentValue - totalInvestment;\r\n    const profitLossPercent = totalInvestment > 0 ? ((totalProfitLoss / totalInvestment) * 100) : 0;\r\n\r\n    return {\r\n      totalInvestment: totalInvestment.toFixed(2),\r\n      currentValue: currentValue.toFixed(2),\r\n      totalProfitLoss: totalProfitLoss.toFixed(2),\r\n      profitLossPercent: profitLossPercent.toFixed(2),\r\n      totalStocks: stocks.length\r\n    };\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading stocks...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  const stats = calculatePortfolioStats();\r\n\r\n  return (\r\n    <div className=\"stock-list\">\r\n      <h2>My Portfolio</h2>\r\n      \r\n      {stocks.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-state-icon\">ðŸ“Š</div>\r\n          <h3>No stocks in your portfolio yet</h3>\r\n          <p>Start building your portfolio by adding your first stock</p>\r\n          <Link to=\"/add\" className=\"add-first-stock\">Add Your First Stock</Link>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"portfolio-stats\">\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-label\">Total Stocks</div>\r\n              <div className=\"stat-value\">{stats.totalStocks}</div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-label\">Total Investment</div>\r\n              <div className=\"stat-value\">${stats.totalInvestment}</div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-label\">Current Value</div>\r\n              <div className=\"stat-value\">${stats.currentValue}</div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <div className=\"stat-label\">Total P/L</div>\r\n              <div className=\"stat-value\">\r\n                ${stats.totalProfitLoss} ({stats.profitLossPercent}%)\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <table className=\"stock-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Symbol</th>\r\n                <th>Company</th>\r\n                <th>Quantity</th>\r\n                <th>Buy Price</th>\r\n                <th>Current Price</th>\r\n                <th>P/L Amount</th>\r\n                <th>P/L %</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {stocks.map((stock) => {\r\n                const pl = calculateProfitLoss(stock);\r\n                const plPercent = calculateProfitLossPercent(stock);\r\n                return (\r\n                  <tr key={stock._id}>\r\n                    <td><span className=\"stock-symbol\">{stock.symbol}</span></td>\r\n                    <td>{stock.companyName}</td>\r\n                    <td>{stock.quantity}</td>\r\n                    <td>${stock.buyPrice}</td>\r\n                    <td>${stock.currentPrice}</td>\r\n                    <td>\r\n                      <span className={`profit-badge ${pl >= 0 ? 'positive' : 'negative'}`}>\r\n                        ${pl}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <span className={`profit-badge ${plPercent >= 0 ? 'positive' : 'negative'}`}>\r\n                        {plPercent}%\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <Link to={`/stock/${stock._id}`}>View Details</Link>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StockList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}